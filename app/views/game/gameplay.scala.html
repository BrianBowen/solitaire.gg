@(title: String, user: models.user.User, rulesId: String, initialAction: Seq[String], seed: Option[Int] = None, offline: Boolean = false)(
    implicit session: Session, flash: Flash
)@layout.basic(title + " - " + utils.Config.projectName, stylesheets = Seq(routes.Assets.at("stylesheets/solitaire.gg.css").url)) {
  <div id="menu-container">
    <div class="menu-left">
      <a class="btn" href="">Klondike #1302394</a>
    </div>
    <img class="avatar-small" src="@user.avatar" />
    <div class="menu-right">
      <a class="btn" href="">@user.username.getOrElse("Guest")</a>
    </div>
    <div class="logo">@utils.Config.projectName</div>
  </div>
  <div id="status-container">
    <div class="menu-left">
      <a class="btn options" href="">Options</a>
      <a class="btn help" href="">Help</a>
    </div>
    <div class="menu-right">
      <a class="btn undo" href="">Undo</a>
      <a class="btn redo" href="">Redo</a>
    </div>
    <div class="timer-container">
      <span class="timer">0:00</span>
    </div>
  </div>

  <div id="game-container"></div>

  <div id="gameplay-modal">
    <div id="gameplay-modal-backdrop"></div>
    <div id="gameplay-modal-content" class="off">
      <iframe id="gameplay-modal-iframe" src=""></iframe>
    </div>
  </div>

  <pre id="@utils.Config.projectId-config">
  {
    "host": "@utils.Config.hostname",
    "user": {
      "id": "@user.id",
      "name": "@user.username.getOrElse("Guest")"
    },
    "debug": "@utils.Config.debug",
    "cardSet": "@utils.Config.defaultCardSet",
    "rules": "@rulesId",
    @if(seed.isDefined) {"seed": @seed.get, }
    @if(offline) {"offline": true, }
    "initialAction": [ @Html(initialAction.map("\"" + _ + "\"").mkString(", ")) ]
  }
  </pre>

  @if(offline) {
  @if(play.api.Play.isProd(play.api.Play.current)) {
  <script src="/assets/client-opt.js" type="text/javascript"></script>
  } else {
  <script src="/assets/client-fastopt.js" type="text/javascript"></script>
  }
  }

  @if(utils.Config.debug) {
  <script src="/assets/lib/phaser/js/phaser.js"></script>
  <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/phaser-debug.css").url" />
  <script src="/assets/lib/phaser/js/phaser-debug.js"></script>
  <script src="@routes.Assets.at("lib/underscore/underscore.js").url"></script>
  } else {
  <script src="/assets/lib/phaser/js/phaser.min.js"></script>
  <script src="@routes.Assets.at("lib/underscore/underscore.min.js").url"></script>
  }
  <script data-main="/assets/javascripts/main.js?build=@utils.BuildInfo.buildinfoBuildnumber" src="/assets/lib/requirejs/require.min.js"></script>
}
