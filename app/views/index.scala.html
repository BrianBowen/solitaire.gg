@(user: models.user.User)(implicit request: Request[AnyContent], session: Session, flash: Flash)@layout.basic(
  utils.Config.projectName, stylesheets = Seq(routes.Assets.at("stylesheets/solitaire.gg.css").url)
) {
  @layout.topBar(user, false)
  <div id="main-page-content">
    <div class="module">
      <div class="welcome">@Messages("index.welcome")</div>
      <div class="tagline">@Messages("index.tagline")</div>
      <div class="play-now">
        <a href="@routes.GameController.newGame("klondike").url" role="button">@Messages("index.play.now")</a>
      </div>
    </div>

    @if(!user.isGuest) {
      <div class="module">
        <div class="header">@Messages("index.games.popular")</div>
        <ul>
        @for(r <- Seq(
          models.game.rules.generated.Klondike,
          models.game.rules.generated.FreeCell,
          models.game.rules.generated.Pyramid,
          models.game.rules.generated.Canfield,
          models.game.rules.generated.Spider
        )) {
          <li>
            <div class="gamelink"><a href="@routes.GameController.newGame(r.id)">@r.title</a></div>
          </li>
        }
        </ul>
        <div class="clear"></div>
      </div>

      <div class="module">
        <div class="header">@Messages("index.games.completed")</div>
        <ul>
        @for(r <- models.game.rules.GameRulesSet.completed) {
          <li>
            <div class="gamelink"><a href="@routes.GameController.newGame(r.id)">@r.title</a></div>
          </li>
        }
        </ul>
        <div class="clear"></div>
      </div>
    }

    @if(user.isAdmin) {
      <div class="module">
        <div class="header">@Messages("index.games.in.progress")</div>
        <ul>
        @for(r <- models.game.rules.GameRulesSet.inProgress) {
          <li>
            <div class="gamelink"><a href="@routes.GameController.newGame(r.id)">@r.title</a></div>
          </li>
        }
        </ul>
        <div class="clear"></div>
      </div>

      <div class="module">
        <div class="header">@Messages("index.games.unstarted")</div>
        <ul>
        @for(r <- models.game.rules.GameRulesSet.unfinished) {
          <li>
            <div class="gamelink"><a href="@routes.GameController.newGame(r.id)">@r.title</a></div>
          </li>
        }
        </ul>
        <div class="clear"></div>
      </div>
    }
  </div>
}
